NO-IP
	sudo noip2
	
- Smell
	Erzeugung von Essern darf nicht an 2 Stellen passieren!

- CSV enthält : Name,Intern Flag, [Datum], Summe

- Registrierung eines neuen Essers
  - Token wird generiert und Beziehung zu Esser gespeichert.
  - Link wird Token anstatt Esser Id enthalten
  - Freigabe des Essers wird durch Admin durch geführt
  -- Registrierung eines neuen Essers
  - Token wird generiert und Beziehung zu Esser gespeichert.
  - Link wird Token anstatt Esser Id enthalten
  - Freigabe des Essers wird durch Admin durch geführt
  -  

- Button Abbruch für Bearbeitung einbauen 

- SMS Versand für diverse Situationen

- Release erstellen 

- Bilder für einzelne Speisen einfügen.

- Stornierung im Controller um Abfrage "is_in_time" erweitern

- Anfrage nach Stornierung wieder aus Queue entfernen. Mal schauen, wie ich das mache.

- Kennzeichen im Booking aufnehmen, dass Esser durch Anfrage gebucht wurde. (für Auswertung interessant)

- Buchungen über Anfragen dürfen nicht stornierbar durch Esser sein.

- Kennzeichen in Menu, dass ein Essen durch Anja freigegeben wurde. danach kann mit dem Essen nichts mehr gemacht werden.
	Kein Löschen  möglich, aber noch das Hinzufügen von Essern.



. Logik des Menu Status in das Modell integrieren.
	get_state() ->  "free"    -> man kann buchen, wenn man noch nicht gebucht hat und Menudatum > akt. Datum 
					"booked"  -> man hat gebucht, wenn ein Booking Eintrag vorliegt
					"request" -> man kann eine Anfrage stellen, wenn keine Slots mehr vefügbar sind und Menudatum > akt. Datum
					"finished"-> Essen ist gegessen, wenn Menudatum <= akt. Datum.

- Wenn das Essen fertig ist, Button für "Essen ist fertig" und dann wird Mail an alle gebuchten Esser gesendet 



- init Admin in DB erstellen

- Validierungen
	- Menu Erfassung: Datum darf nicht kleiner als das aktuelle sein
	
- Ein Tag vorher, aber bis max. 15:00 Uhr. 

	Beispiel :

	Essen       : 2012-09-09 12:00
	Buchung     : 2012-09-09 16:00
	 
	-> Buchung nicht mehr möglich, da Differenz < 20 Stunden
	Es darf eine Differenz von 21 Stunden sein
	
	Essen :  2012-09-09 12:00
			 2012-09-08 15:00 


- Anja Mail schicken, wenn Esser gebucht haben.

- Stornierung nicht möglich 24 Stunden. Ein Tag vorher, aber nur bis 15:00 Uhr
	http://schemecookbook.org/Erlang/TimeToEpoch
	
	Beispiel :
	
	Essen       : 2012-09-09 12:00
	Stornierung : 2012-09-08 16:00
	
	-> nicht mehr möglich, da Differenz < 24 Stunden
	
	
-------------------------------------------------------------	



Fertige Aufgaben

- Rechnungslauf für alle Esser und einen Monat 
- CSV Link erstellen anbieten
- Rechungsstellung füe einen Esser. Er kann eine Zeitspanne wählen und bekommt dann die Liste der Einträge.
  Wie hoch sind meine Kosten für den eingebenen Zeitraum (Esser)? 
- Leerstellung aus dem Datum entfernen oder mit Nullen auffüllen. Bsp.: 2012-1-1 oder 2012-01-01 
- Raspberry Pi aufsetzen
- Funktion Mahlzeit im admin controller implementieren. (fertig)
- CSV generieren für einen bestimmten Zeitraum (fertig)
- Sollte es keine SLots mehr geben, dann hat der Esser die Möglichkeit an Anja zu mailen "Anfrage stellen". Damit wird eine Mail an Anja generiert und gesendet.(fertig)
- Created_Date im Menu einführen, damit die zeitliche Überprüfung daran gemessen werden kann.
- Get in touch with an eater. Möglich Esser an zu mailen über Liste der Esser. (fertig)
- Nach Datum sortieren. (absteigend) (fertig)
- Modelle auf Erland Date/Time umbauen (fertig)
- Refactoring der Datum Werte im Booking. ... müssen Datum und Zeit enthalten.(fertig)
- Infos über andere Teilnehmer aus Speiseplan Ansicht entferne (fertig)
- Infos über Teilnehmer in Admin Ansicht einbauen (fertig)
- Mail an aller Esser eines Tages, dass das Essen ausfällt (fertig)
- Nachträgliches Hinzufügen von Essern, aber nur durch den Admin (Anja) (fertig)
- Bearbeitung von Einträgen. Speisen und Esser (fertig)
- Bearbeitung von Einträgen.  Esser (fertig)
- Liste der Esser, die vegetarisches Essen bestellt haben anzeigen. (fertig) 
- Registrierungs Seite einbauen. (fertig)
- Refactoring: Login in eigenen Controller auslagern. (fertig)
- Anzeige der Esser, die vegetarisch gebucht haben. (fertig)

Listen 

- Liste der Teilnehmer von aktuellen Tag plus 5 leerer Felder für Nachzügler.
- Umsatz von einem Monat, gegliedert in Tagen.
  Beispiel:
  Von 01.01.2012 - 30.01.2012
  
  Datum       Anzahl Teilnehmer Einnahmen
  01.01.2012        10            300

  Gesamt:                         300  

BUGS

- Nach dem Löschen eines Menus wird die index Seite nicht richtig refreshed

- neue Fehler
{undef,
    [{error,get_requester,[{error,{no_exists,'favicon.ico'}}],[]},
     {speiseplan_admin_controller,detail,4,
         [{file,
              "/Users/ulfangermann/projects/erlang/speiseplan/src/controller/speiseplan_admin_controller.erl"},
          {line,17}]},
     {boss_web_controller,execute_action,5,
         [{file,"src/boss/boss_web_controller.erl"},{line,714}]},
     {boss_web_controller,process_request,5,
         [{file,"src/boss/boss_web_controller.erl"},{line,460}]},
     {timer,tc,3,[{file,"timer.erl"},{line,194}]},
     {boss_web_controller,handle_request,3,
         [{file,"src/boss/boss_web_controller.erl"},{line,388}]},
     {mochiweb_http,headers,5,[{file,"src/mochiweb_http.erl"},{line,90}]},
     {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,227}]}]}

=ERROR REPORT==== 16-Sep-2012::08:08:05 ===


